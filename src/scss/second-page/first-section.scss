@import "../partials/mixins";

@function val($map, $keys...) {

    @if nth($keys, 1) == null {
        $keys: remove-nth($keys, 1);
    }

    @each $key in $keys {
        $map: map-get($map, $key);
    }

    @return $map;

}

@function _size($keys...) {
    @return val($size, $keys...);
}

@function _font($keys...) {
    @return val($font, $keys...);
}

#wrapper {
    display: -moz-flex;
    display: -webkit-flex;
    display: -ms-flex;
    display: flex;
    -moz-flex-direction: row-reverse;
    -webkit-flex-direction: row-reverse;
    -ms-flex-direction: row-reverse;
    flex-direction: row-reverse;
    min-height: 100vh;
    .main {
        -moz-flex-grow: 1;
        -webkit-flex-grow: 1;
        -ms-flex-grow: 1;
        flex-grow: 1;
        -moz-flex-shrink: 1;
        -webkit-flex-shrink: 1;
        -ms-flex-shrink: 1;
        flex-shrink: 1;
        width: 100%;
        > .inner {
            padding: 0 6em 0.1em 6em;
            margin: 0 auto;
            max-width: 110em;
        }
    }
}

section, article {
    &.special {
        text-align: center;
    }
}

header {
    .image {
        border-radius: 0.375em;
        border: 0;
        display: inline-block;
        position: relative;

        img {
            border-radius: 0.375em;
            display: block;
        }

        &.left, &.right {
            max-width: 40%;
        }

        &.left img, &.right img {
            width: 100%;
        }

        &.left {
            float: left;
            padding: 0 1.5em 1em 0;
            top: 0.25em;
        }

        &.right {
            float: right;
            padding: 0 0 1em 1.5em;
            top: 0.25em;
        }
    }

    &.major {
        > :last-child {
            border-bottom: solid 3px _palette(accent);
            display: inline-block;
            margin: 0 0 _size(element-margin) 0;
            padding: 0 0.75em 0.5em 0;
        }
    }

    &.main {
        > :last-child {
            margin: 0 0 (_size(element-margin) * 0.5) 0;
        }
    }
}